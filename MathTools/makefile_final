# Definitions of variables

Includes=$(shell gsl-config --cflags) -I./includes
CXXFlags=-std=c++17
GSL_Libs=$(shell gsl-config --libs)
MYEXE=./bin/myCalcApp

# Here comes the main (final) rule:

myCalcApp: obj/Funkcja.o obj/Wymierna.o obj/Wielomian.o \
           obj/Gauss.o   obj/IntGauss.o obj/MathTools.o
	g++ $(CXXFlags) $(Includes) main.C -o $(MYEXE) $^ $(GSL_Libs)

# Here come the rules for compilations of class files:

obj/Funkcja.o: src/Funkcja.C includes/Funkcja.h
	g++ $(CXXFlags) $(Includes) -c src/Funkcja.C   -o obj/Funkcja.o

obj/Wymierna.o: src/Wymierna.C includes/Wymierna.h
	g++ $(CXXFlags) $(Includes) -c src/Wymierna.C  -o obj/Wymierna.o

obj/Wielomian.o: src/Wielomian.C includes/Wielomian.h
	g++ $(CXXFlags) $(Includes) -c src/Wielomian.C -o obj/Wielomian.o

obj/Gauss.o: src/Gauss.C includes/Gauss.h
	g++ $(CXXFlags) $(Includes) -c src/Gauss.C     -o obj/Gauss.o

obj/IntGauss.o: src/IntGauss.C includes/IntGauss.h
	g++ $(CXXFlags) $(Includes) -c src/IntGauss.C  -o obj/IntGauss.o

obj/MathTools.o: src/MathTools.C includes/MathTools.h
	g++ $(CXXFlags) $(Includes) -c src/MathTools.C -o obj/MathTools.o

# Rule for cleaning:

clean:
	rm -f obj/*.o $(MYEXE)
